@using Microsoft.AspNetCore.Identity;
@model EPlast.ViewModels.UserViewModel
@inject UserManager<EPlast.DataAccess.Entities.User> _userManager;
<div class="container bg-light m-5 pt-2 pb-5 pr-5 pl-5 user-profile">
    <ul class="nav nav-tabs">
        <a class="nav-link active" asp-action="UserProfile" asp-controller="Account">Персональні дані</a>
        <a class="nav-link text-muted" href="#">Дійсне членство</a>
        <a class="nav-link text-muted" href="#">Діловодства</a>
        <a class="nav-link text-muted" asp-action="EventUser" asp-controller="EventUser">Вишколи</a>
        <a class="nav-link text-muted" href="#">З'їзди</a>
        <a class="nav-link text-muted" href="#">Бланки</a>
        <a class="nav-link text-muted" href="">Поручення</a>
        @if (_userManager.GetUserId(User) == Model.User.Id)
        {
            <a asp-controller="Account" asp-action="Edit" asp-route-id="@Model.User.Id" class="nav-link text-muted">Редагувати профіль</a>
        }
    </ul>
    <div class="col-md-12 mt-4 d-flex">
        <div class="col-md-4">
            <div class="portlet light profile-sidebar-portlet bordered">
                <div class="profile-userpic">
                    <img src="/images/Users/@Model.User.ImagePath" class="img-thumbnail" alt="">
                </div>
                <div class="profile-usertitle">
                    <div class="profile-usertitle-name">  </div>
                    <div class="profile-usertitle-job text-uppercase mt-1 font-weight-bold"> Старший пластун </div>
                </div>
            </div>
            <div>
                @if (Model.Approvers.Count() != 0)
                {
                    @foreach (var item in Model.Approvers.ToList())
                    {
                        <div class="row">
                            <div class="col">
                                <img src="/images/Users/@item.User.ImagePath" class="img-thumbnail" alt="">
                            </div>
                            <div class="col">
                                <a asp-action="UserProfile" asp-controller="Account" asp-route-userId="@item.ID">@item.User.FirstName @item.User.LastName</a>
                            </div>
                        </div>
                    }


                }
                @if (Model.Approvers.Count() < 3)
                {
                    <form class="container bg-light m-5 pt-2 pb-5 pr-5 pl-5" style="background-color:white" asp-route-userId="@Model.User.Id" asp-action="ApproveUser" enctype="multipart/form-data">

                        <button type="submit" value="Save" class="btn " style="background-color:#3c5438; color:white;">Стати прихильником</button>
                    </form>
                }
            </div>
        </div>
        <div class="col-md-8">
            <div class="card-body">
                <div class="row">
                    <div class="col-md-12">
                        <h4>Мій профіль</h4>
                        <hr>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <div class="form-group row">
                            <label for="username" class="col-6 col-form-label font-weight-bold">Прізвище</label>
                            <p class="col-6 col-form-label">@Model.User.LastName</p>
                        </div>
                        <div class="form-group row">
                            <label for="name" class="col-6 col-form-label font-weight-bold">Імя</label>
                            <p class="col-6 col-form-label">@Model.User.FirstName</p>
                        </div>
                            @if (@Model.User.FatherName != null)
                            {
                                <div class="form-group row">
                                    <label for="name" class="col-6 col-form-label font-weight-bold">По-батькові</label>
                                    <p class="col-6 col-form-label">@Model.User.FatherName</p>
                                </div>
                            }
                            <div class="form-group row">
                                <label for="email" class="col-6 col-form-label font-weight-bold">Email</label>
                                @if (@Model.User.Email != "facebookdefaultmail@gmail.com")
                                {
                                    <p class="col-6 col-form-label">@Model.User.Email</p>
                                }
                            </div>
                            @if (@Model.User.UserProfile.Address != null)
                            {
                                <div class="form-group row">
                                    <label for="email" class="col-6 col-form-label font-weight-bold">Адреса</label>
                                    <p class="col-6 col-form-label">@Model.User.UserProfile.Address</p>
                                </div>
                            }
                            @if (@Model.User.UserProfile.Nationality != null)
                            {
                                <div class="form-group row">
                                    <label for="text" class="col-6 col-form-label font-weight-bold">Національність</label>

                                    <p class="col-6 col-form-label">@Model.User.UserProfile.Nationality.Name</p>

                                </div>
                            }
                            @if (@Model.User.UserProfile.Religion != null)
                            {
                                <div class="form-group row">
                                    <label for="email" class="col-6 col-form-label font-weight-bold">Віровизнання</label>
                                    <p class="col-6 col-form-label">@Model.User.UserProfile.Religion.Name</p>
                                </div>
                            }
                            @if (@Model.User.UserProfile.Gender != null)
                            {
                                <div class="form-group row">
                                    <label for="email" class="col-6 col-form-label font-weight-bold">Стать</label>

                                    <p class="col-6 col-form-label">@Model.User.UserProfile.Gender.Name</p>

                                </div>
                            }
                            @if (@Model.User.UserProfile.Education != null)
                            {
                                <div class="form-group row">
                                    <label for="email" class="col-6 col-form-label font-weight-bold">Місце навчання</label>

                                    <p class="col-6 col-form-label">@Model.User.UserProfile.Education.PlaceOfStudy</p>

                                </div>
                            }
                            @if (@Model.User.UserProfile.Education != null)
                            {
                                <div class="form-group row">
                                    <label for="email" class="col-6 col-form-label font-weight-bold">Спеціальність</label>
                                    <p class="col-6 col-form-label">@Model.User.UserProfile.Education.Speciality</p>
                                </div>
                            }
                            @if (@Model.User.UserProfile.Education != null)
                            {
                                <div class="form-group row">
                                    <label for="email" class="col-6 col-form-label font-weight-bold">Ступінь</label>
                                    @if (@Model.User.UserProfile.Education.Degree != null)
                                    {
                                        <p class="col-6 col-form-label">@Model.User.UserProfile.Education.Degree.Name</p>
                                    }
                                </div>
                            }
                            @if (@Model.User.UserProfile.Work != null)
                            {
                                <div class="form-group row">
                                    <label for="email" class="col-6 col-form-label font-weight-bold">Місце роботи</label>

                                    <p class="col-6 col-form-label">@Model.User.UserProfile.Work.PlaceOfwork</p>

                                </div>
                            }
                            @if (@Model.User.UserProfile.Work != null)
                            {
                                <div class="form-group row">
                                    <label for="email" class="col-6 col-form-label font-weight-bold">Посада</label>
                                    <p class="col-6 col-form-label">@Model.User.UserProfile.Work.Position</p>
                                </div>
                            }
                        </div>
                </div>
            </div>
        </div>
    </div>
</div>